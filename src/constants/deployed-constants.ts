import 'isomorphic-fetch'
import { TokenAddress, TokenSymbol } from './tokens'
import { Contract } from 'web3/types'
import { Context } from '../services/logger'

export interface IDeployConstantInitParams {
  walletAddress?: string
  wethAddress?: string
  exchangeAddress?: string
  walletBytecode?: string
  positionManagerAddress?: string
  networkParamsAddress?: string
  omgAddress?: string
}

/**
 * Holds details about deployed contracts such as addresses, ABIs, bytecode
 */
export class DeployedConstants {

  private WALLET_ABI: any
  private ERC20_ABI: any
  private WALLET_BYTECODE: string
  private WALLET_ADDRESS: string
  private WETH_ADDRESS: string
  private OMG_ADDRESS: string
  private EXCHANGE_ADDRESS: string
  private POSITION_MANAGER_ADDRESS: string
  private POSITION_MANAGER_ABI: any

  constructor(params: IDeployConstantInitParams) {
    this.WALLET_BYTECODE =
      params.walletBytecode || '6060604052341561000f57600080fd5b6040516060806139338339810160405280805190602001909190805190602001909190805190602001909190505033600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503373ffffffffffffffffffffffffffffffffffffffff167fce241d7ca1f669fee44b6fc00b8eba2df3bb514eed0f6f668f8f89096e81ed9460405160405180910390a282600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600460006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600660006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050505061379d806101966000396000f30060606040526004361061018b576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806307da68f51461019b57806313af4035146101b057806326e8eda2146101e95780633419d6ef1461024a5780633bbe1ecd146102b657806340c10f191461032257806361bc05061461036457806366b3bcb0146104b75780637372c2b51461050f57806375f12b211461057057806378a3b8231461059d5780637a9e5e4b146105f2578063885c43cd1461062b57806389afcb441461067c5780638da5cb5b146106b5578063921b004b1461070a5780639dc29fac146107595780639f4d10cd1461079b578063a81e804f146107dd578063add1cbc514610849578063b716ba671461089e578063be9a6555146108f6578063bf7e214f1461090b578063c107532914610960578063c436972b146109ba578063c6c3bbe614610a09578063d05e07e614610a6a578063e7602b9d14610abb578063f025c89e14610b27578063f2cf8b7114610b7c578063f6b911bc14610be8575b341561019657600080fd5b600080fd5b34156101a657600080fd5b6101ae610c49565b005b34156101bb57600080fd5b6101e7600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610d4b565b005b34156101f457600080fd5b610248600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050610e2d565b005b341561025557600080fd5b6102a0600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610f39565b6040518082815260200191505060405180910390f35b34156102c157600080fd5b61030c600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050610f5e565b6040518082815260200191505060405180910390f35b341561032d57600080fd5b610362600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050610f83565b005b341561036f57600080fd5b6104b56004808060a001906005806020026040519081016040528092919082600560200280828437820191505050505091908060c001906006806020026040519081016040528092919082600660200280828437820191505050505091908060800190600480602002604051908101604052809291908260046020028082843782019150505050509190806040019060028060200260405190810160405280929190826002602002808284378201915050505050919080359060200190919080604001906002806020026040519081016040528092919082600260200280828437820191505050505091908060600190600380602002604051908101604052809291908260036020028082843782019150505050509190803590602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050611042565b005b34156104c257600080fd5b61050d600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506114da565b005b341561051a57600080fd5b61056e600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506115a6565b005b341561057b57600080fd5b6105836116e6565b604051808215151515815260200191505060405180910390f35b34156105a857600080fd5b6105b06116f9565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156105fd57600080fd5b610629600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190505061171f565b005b341561063657600080fd5b610662600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506117ff565b604051808215151515815260200191505060405180910390f35b341561068757600080fd5b6106b3600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506118a0565b005b34156106c057600080fd5b6106c8611a1b565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b61073f600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050611a41565b604051808215151515815260200191505060405180910390f35b341561076457600080fd5b610799600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050611d71565b005b34156107a657600080fd5b6107db600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050611e30565b005b34156107e857600080fd5b610833600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050611fd3565b6040518082815260200191505060405180910390f35b341561085457600080fd5b61085c6121ac565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156108a957600080fd5b6108f4600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506121d2565b005b341561090157600080fd5b61090961229e565b005b341561091657600080fd5b61091e6123a1565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561096b57600080fd5b6109a0600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506123c6565b604051808215151515815260200191505060405180910390f35b6109ef600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050612726565b604051808215151515815260200191505060405180910390f35b3415610a1457600080fd5b610a68600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050612b37565b005b3415610a7557600080fd5b610aa1600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612c2b565b604051808215151515815260200191505060405180910390f35b3415610ac657600080fd5b610b11600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612ccc565b6040518082815260200191505060405180910390f35b3415610b3257600080fd5b610b3a612cf1565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3415610b8757600080fd5b610bd2600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612d17565b6040518082815260200191505060405180910390f35b3415610bf357600080fd5b610c47600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050612d3c565b005b610c77336000357fffffffff0000000000000000000000000000000000000000000000000000000016612e30565b1515610c8257600080fd5b60008060043591506024359050806000191682600019163373ffffffffffffffffffffffffffffffffffffffff166000357fffffffff00000000000000000000000000000000000000000000000000000000167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19163460003660405180848152602001806020018281038252848482818152602001925080828437820191505094505050505060405180910390a460018060146101000a81548160ff0219169083151502179055505050565b610d79336000357fffffffff0000000000000000000000000000000000000000000000000000000016612e30565b1515610d8457600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167fce241d7ca1f669fee44b6fc00b8eba2df3bb514eed0f6f668f8f89096e81ed9460405160405180910390a250565b610e5b336000357fffffffff0000000000000000000000000000000000000000000000000000000016612e30565b1515610e6657600080fd5b8273ffffffffffffffffffffffffffffffffffffffff1663a9059cbb83836000604051602001526040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b1515610f1157600080fd5b6102c65a03f11515610f2257600080fd5b505050604051805190501515610f3457fe5b505050565b6009602052816000526040600020602052806000526040600020600091509150505481565b6007602052816000526040600020602052806000526040600020600091509150505481565b610fb1336000357fffffffff0000000000000000000000000000000000000000000000000000000016612e30565b1515610fbc57600080fd5b8173ffffffffffffffffffffffffffffffffffffffff1663a0712d68826040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b151561102a57600080fd5b6102c65a03f1151561103b57600080fd5b5050505050565b60008061107589600160048110151561105757fe5b60200201518a600360048110151561106b57fe5b6020020151611fd3565b915081841115151561108657600080fd5b61110789600060048110151561109857fe5b60200201518a60016004811015156110ac57fe5b60200201518b60026004811015156110c057fe5b60200201518c60036004811015156110d457fe5b60200201518c60006002811015156110e857fe5b60200201518d60016002811015156110fc57fe5b60200201518a61308f565b600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663bc61394a8c8c8760018c8c600060028110151561115a57fe5b60200201518d600160028110151561116e57fe5b60200201516000604051602001526040518863ffffffff167c01000000000000000000000000000000000000000000000000000000000281526004018088600560200280838360005b838110156111d25780820151818401526020810190506111b7565b5050505090500187600660200280838360005b838110156112005780820151818401526020810190506111e5565b50505050905001868152602001851515151581526020018460ff1660ff16815260200183600019166000191681526020018260001916600019168152602001975050505050505050602060405180830381600087803b151561126157600080fd5b6102c65a03f1151561127257600080fd5b5050506040518051905090506112eb89600060048110151561129057fe5b60200201518a60016004811015156112a457fe5b60200201518b60026004811015156112b857fe5b60200201518c60036004811015156112cc57fe5b60200201518c60016002811015156112e057fe5b6020020151866132c0565b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663012f717e86600060038110151561133857fe5b602002015187600160038110151561134c57fe5b602002015188600260038110151561136057fe5b60200201518d600060048110151561137457fe5b60200201518e600160048110151561138857fe5b6020020151896000604051602001526040518763ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808760001916600019168152602001866000191660001916815260200185600019166000191681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019650505050505050602060405180830381600087803b15156114a757600080fd5b6102c65a03f115156114b857600080fd5b5050506040518051905015156114cd57600080fd5b5050505050505050505050565b6115a282828473ffffffffffffffffffffffffffffffffffffffff166370a08231856000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b151561158257600080fd5b6102c65a03f1151561159357600080fd5b505050604051805190506115a6565b5050565b6115d4336000357fffffffff0000000000000000000000000000000000000000000000000000000016612e30565b15156115df57600080fd5b8273ffffffffffffffffffffffffffffffffffffffff166323b872dd8330846000604051602001526040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050602060405180830381600087803b15156116be57600080fd5b6102c65a03f115156116cf57600080fd5b5050506040518051905015156116e157fe5b505050565b600160149054906101000a900460ff1681565b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b61174d336000357fffffffff0000000000000000000000000000000000000000000000000000000016612e30565b151561175857600080fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f1abebea81bfa2637f28358c371278fb15ede7ea8dd28d2e03b112ff6d936ada460405160405180910390a250565b6000600160149054906101000a900460ff1615151561181d57600080fd5b61184b336000357fffffffff0000000000000000000000000000000000000000000000000000000016612e30565b151561185657600080fd5b81600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060019050919050565b6118ce336000357fffffffff0000000000000000000000000000000000000000000000000000000016612e30565b15156118d957600080fd5b8073ffffffffffffffffffffffffffffffffffffffff166342966c688273ffffffffffffffffffffffffffffffffffffffff166370a08231306000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b151561199857600080fd5b6102c65a03f115156119a957600080fd5b505050604051805190506040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b1515611a0457600080fd5b6102c65a03f11515611a1557600080fd5b50505050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600080600160149054906101000a900460ff16151515611a6057600080fd5b611a8e336000357fffffffff0000000000000000000000000000000000000000000000000000000016612e30565b1515611a9957600080fd5b611aa333856135c4565b8311151515611ab157600080fd5b83905082600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508073ffffffffffffffffffffffffffffffffffffffff166323b872dd3330866000604051602001526040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050602060405180830381600087803b1515611c1d57600080fd5b6102c65a03f11515611c2e57600080fd5b505050604051805190501515611c4357600080fd5b7f4e3e4894f24a7c50bcb21d1ef785e34688bee05663c55d822eed7cefc2533123338585600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054604051808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200183815260200182815260200194505050505060405180910390a1600191505092915050565b611d9f336000357fffffffff0000000000000000000000000000000000000000000000000000000016612e30565b1515611daa57600080fd5b8173ffffffffffffffffffffffffffffffffffffffff166342966c68826040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b1515611e1857600080fd5b6102c65a03f11515611e2957600080fd5b5050505050565b600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020548111151515611ebb57600080fd5b80600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254039250508190555080600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055505050565b6000600160149054906101000a900460ff16151515611ff157600080fd5b6121a4612122600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166329a260b86000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b151561208557600080fd5b6102c65a03f1151561209657600080fd5b50505060405180519050600860008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546136c5565b600a60008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054613709565b905092915050565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b61229a82828473ffffffffffffffffffffffffffffffffffffffff166370a08231306000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b151561227a57600080fd5b6102c65a03f1151561228b57600080fd5b50505060405180519050610e2d565b5050565b6122cc336000357fffffffff0000000000000000000000000000000000000000000000000000000016612e30565b15156122d757600080fd5b60008060043591506024359050806000191682600019163373ffffffffffffffffffffffffffffffffffffffff166000357fffffffff00000000000000000000000000000000000000000000000000000000167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19163460003660405180848152602001806020018281038252848482818152602001925080828437820191505094505050505060405180910390a46000600160146101000a81548160ff0219169083151502179055505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600080600160149054906101000a900460ff161515156123e557600080fd5b600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054831115151561247057600080fd5b82600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055508390508073ffffffffffffffffffffffffffffffffffffffff166323b872dd3033866000604051602001526040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050602060405180830381600087803b15156125dc57600080fd5b6102c65a03f115156125ed57600080fd5b50505060405180519050507f74217ce088f00bfd283666b763c64f0d1b1c345591dfdd01891dddf52446694e338585600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054604051808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200183815260200182815260200194505050505060405180910390a1600191505092915050565b600080600160149054906101000a900460ff1615151561274557600080fd5b612773336000357fffffffff0000000000000000000000000000000000000000000000000000000016612e30565b151561277e57600080fd5b600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054831115151561280957600080fd5b82600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555082600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055508390508073ffffffffffffffffffffffffffffffffffffffff1663095ea7b3600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16856000604051602001526040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b15156129ed57600080fd5b6102c65a03f115156129fe57600080fd5b50505060405180519050507f5636029bcaf38baf0fd4c3a30d11d8ac8c172fb5589b66e044d3b7953c373d5f338585600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054604051808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200183815260200182815260200194505050505060405180910390a1600191505092915050565b612b65336000357fffffffff0000000000000000000000000000000000000000000000000000000016612e30565b1515612b7057600080fd5b8273ffffffffffffffffffffffffffffffffffffffff166340c10f1983836040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050600060405180830381600087803b1515612c1257600080fd5b6102c65a03f11515612c2357600080fd5b505050505050565b6000600160149054906101000a900460ff16151515612c4957600080fd5b612c77336000357fffffffff0000000000000000000000000000000000000000000000000000000016612e30565b1515612c8257600080fd5b81600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060019050919050565b600a602052816000526040600020602052806000526040600020600091509150505481565b600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6008602052816000526040600020602052806000526040600020600091509150505481565b612d6a336000357fffffffff0000000000000000000000000000000000000000000000000000000016612e30565b1515612d7557600080fd5b8273ffffffffffffffffffffffffffffffffffffffff16639dc29fac83836040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050600060405180830381600087803b1515612e1757600080fd5b6102c65a03f11515612e2857600080fd5b505050505050565b60003073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415612e6f5760019050613089565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415612ece5760019050613089565b600073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415612f2d5760009050613089565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663b70096138430856000604051602001526040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191681526020019350505050602060405180830381600087803b151561306b57600080fd5b6102c65a03f1151561307c57600080fd5b5050506040518051905090505b92915050565b80600860008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254039250508190555080600a60008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555082600960008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555081600860008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555050505050505050565b80600b60008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060007f4e4547415449564500000000000000000000000000000000000000000000000060001916815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555081600b60008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060007f504f53495449564500000000000000000000000000000000000000000000000060001916815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555080600b60008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060007f504f53495449564500000000000000000000000000000000000000000000000060001916815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555081600b60008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060007f4e4547415449564500000000000000000000000000000000000000000000000060001916815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282540192505081905550505050505050565b6000808290508073ffffffffffffffffffffffffffffffffffffffff1663dd62ed3e85306000604051602001526040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200192505050602060405180830381600087803b15156136a157600080fd5b6102c65a03f115156136b257600080fd5b5050506040518051905091505092915050565b6000670de0b6b3a76400006136f76136dd8585613725565b6002670de0b6b3a76400008115156136f157fe5b04613755565b81151561370057fe5b04905092915050565b6000828284039150811115151561371f57600080fd5b92915050565b6000808214806137445750828283850292508281151561374157fe5b04145b151561374f57600080fd5b92915050565b6000828284019150811015151561376b57600080fd5b929150505600a165627a7a7230582039d298293d1a38d1aaa5895bb3e5555ebab09c5d520ec5f8c0172f5f344fce930029'
    this.WALLET_ADDRESS = params.walletAddress || '0x64a7c74ea4188a8c70c5bebd8bcc61afa1393090'
    this.OMG_ADDRESS = params.omgAddress || TokenAddress[TokenSymbol.OMG]
    this.WETH_ADDRESS = params.wethAddress || TokenAddress[TokenSymbol.WETH]
  }

  public async getWalletAbi(): Promise<any> {
    if (!this.WALLET_ABI) {
      // TODO: Use fetch to read from file
      this.WALLET_ABI = await Promise.resolve(walletABI)
    }
    return this.WALLET_ABI
  }

  public async getERC20Abi(): Promise<any> {
    if (!this.ERC20_ABI) {
      this.ERC20_ABI = await Promise.resolve(ERC20ABI)
    }
    return this.ERC20_ABI
  }

  public async getPositionManagerAbi(): Promise<any> {
    if (!this.POSITION_MANAGER_ABI) {
      this.POSITION_MANAGER_ABI = await Promise.resolve(positionManagerABI)
    }
    return this.POSITION_MANAGER_ABI
  }

  public getWethAddress(): string {
    return this.WETH_ADDRESS
  }

  public getWalletAddress(): string {
    return this.WALLET_ADDRESS
  }

  public async getWalletBytecode(): Promise<string> {
    if (!this.WALLET_BYTECODE) {
      // TODO: Use fetch to read from file
      return Promise.resolve('606060405273b6f86e9651f9a4ef82af78ba947babe3317827f7600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550732b8ab647898be40307fa7419e5508fe68f70f381600660006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555033600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503373ffffffffffffffffffffffffffffffffffffffff167fce241d7ca1f669fee44b6fc00b8eba2df3bb514eed0f6f668f8f89096e81ed9460405160405180910390a26140d4806101416000396000f30060606040526004361061023b576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806307da68f51461024b57806313af403514610260578063197897fc146102995780631f9f01ca146102f35780632416f5d11461031557806326e8eda2146103625780633c40b308146103c35780633fdd7ab51461041d57806340c10f191461044657806341204d881461048857806347e7ef24146104d55780635792d30a146105245780635ac6d8ab146105715780636112fe2e146105d457806366b3bcb01461060f5780636f758140146106675780637372c2b514610689578063742fe1f8146106ea57806375f12b211461074457806378a3b823146107715780637a9e5e4b146107c6578063843592d3146107ff578063885c43cd1461084c57806389afcb441461089d5780638da5cb5b146108d657806390fde0051461092b578063968b89171461097857806396d3a3aa146109c55780639dc29fac14610a125780639f4d10cd14610a54578063a2b35d9d14610a96578063a9fba73a14610ae3578063add1cbc514610b30578063b11b97f514610b85578063b716ba6714610bd2578063be9a655514610c2a578063bf7e214f14610c3f578063c107532914610c94578063c408689314610cee578063c436972b14610d3b578063c6c3bbe614610d8a578063d05e07e614610deb578063d0e30db014610e3c578063d9fd46ba14610e5e578063e058a6d014610eaf578063f61bb78814610f00578063f6b911bc14610f6c575b341561024657600080fd5b600080fd5b341561025657600080fd5b61025e610fcd565b005b341561026b57600080fd5b610297600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506110cf565b005b34156102a457600080fd5b6102d9600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506111b1565b604051808215151515815260200191505060405180910390f35b6102fb611357565b604051808215151515815260200191505060405180910390f35b341561032057600080fd5b61034c600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050611441565b6040518082815260200191505060405180910390f35b341561036d57600080fd5b6103c1600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506114e3565b005b34156103ce57600080fd5b610403600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506115ef565b604051808215151515815260200191505060405180910390f35b341561042857600080fd5b6104306117d9565b6040518082815260200191505060405180910390f35b341561045157600080fd5b610486600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803590602001909190505061183c565b005b341561049357600080fd5b6104bf600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506118fb565b6040518082815260200191505060405180910390f35b61050a600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050611955565b604051808215151515815260200191505060405180910390f35b341561052f57600080fd5b61055b600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050611b66565b6040518082815260200191505060405180910390f35b341561057c57600080fd5b6105ba600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091908035906020019091905050611ca0565b604051808215151515815260200191505060405180910390f35b34156105df57600080fd5b6105f56004808035906020019091905050611e8b565b604051808215151515815260200191505060405180910390f35b341561061a57600080fd5b610665600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050611fa1565b005b61066f61206d565b604051808215151515815260200191505060405180910390f35b341561069457600080fd5b6106e8600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803590602001909190505061211e565b005b34156106f557600080fd5b61072a600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803590602001909190505061225e565b604051808215151515815260200191505060405180910390f35b341561074f57600080fd5b61075761236e565b604051808215151515815260200191505060405180910390f35b341561077c57600080fd5b610784612381565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156107d157600080fd5b6107fd600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506123a7565b005b341561080a57600080fd5b610836600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612487565b6040518082815260200191505060405180910390f35b341561085757600080fd5b610883600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612529565b604051808215151515815260200191505060405180910390f35b34156108a857600080fd5b6108d4600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506125ca565b005b34156108e157600080fd5b6108e9612745565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561093657600080fd5b610962600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190505061276b565b6040518082815260200191505060405180910390f35b341561098357600080fd5b6109af600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612818565b6040518082815260200191505060405180910390f35b34156109d057600080fd5b6109fc600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190505061287d565b6040518082815260200191505060405180910390f35b3415610a1d57600080fd5b610a52600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506128e2565b005b3415610a5f57600080fd5b610a94600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506129a1565b005b3415610aa157600080fd5b610acd600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612b44565b6040518082815260200191505060405180910390f35b3415610aee57600080fd5b610b1a600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612ba9565b6040518082815260200191505060405180910390f35b3415610b3b57600080fd5b610b43612db8565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3415610b9057600080fd5b610bbc600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612dde565b6040518082815260200191505060405180910390f35b3415610bdd57600080fd5b610c28600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050612ece565b005b3415610c3557600080fd5b610c3d612f9a565b005b3415610c4a57600080fd5b610c5261309d565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3415610c9f57600080fd5b610cd4600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506130c2565b604051808215151515815260200191505060405180910390f35b3415610cf957600080fd5b610d25600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506132ff565b6040518082815260200191505060405180910390f35b610d70600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506133a1565b604051808215151515815260200191505060405180910390f35b3415610d9557600080fd5b610de9600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919050506136a7565b005b3415610df657600080fd5b610e22600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190505061379b565b604051808215151515815260200191505060405180910390f35b610e4461383c565b604051808215151515815260200191505060405180910390f35b3415610e6957600080fd5b610e95600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050613946565b604051808215151515815260200191505060405180910390f35b3415610eba57600080fd5b610ee6600480803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050613a28565b604051808215151515815260200191505060405180910390f35b3415610f0b57600080fd5b610f56600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091905050613ac9565b6040518082815260200191505060405180910390f35b3415610f7757600080fd5b610fcb600480803573ffffffffffffffffffffffffffffffffffffffff1690602001909190803573ffffffffffffffffffffffffffffffffffffffff16906020019091908035906020019091905050613b6c565b005b610ffb336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b151561100657600080fd5b60008060043591506024359050806000191682600019163373ffffffffffffffffffffffffffffffffffffffff166000357fffffffff00000000000000000000000000000000000000000000000000000000167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19163460003660405180848152602001806020018281038252848482818152602001925080828437820191505094505050505060405180910390a460018060146101000a81548160ff0219169083151502179055505050565b6110fd336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b151561110857600080fd5b80600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167fce241d7ca1f669fee44b6fc00b8eba2df3bb514eed0f6f668f8f89096e81ed9460405160405180910390a250565b6000600160149054906101000a900460ff161515156111cf57600080fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561122b57600080fd5b816112b4600d60008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054600e60008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054613ebf565b101515156112c157600080fd5b61130a600e60008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205483613edb565b600e60008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506001905092915050565b6000600160149054906101000a900460ff1615151561137557600080fd5b6113a3336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b15156113ae57600080fd5b6113f7600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205434613edb565b600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506001905090565b6000600160149054906101000a900460ff1615151561145f57600080fd5b600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b611511336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b151561151c57600080fd5b8273ffffffffffffffffffffffffffffffffffffffff1663a9059cbb83836000604051602001526040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b15156115c757600080fd5b6102c65a03f115156115d857600080fd5b5050506040518051905015156115ea57fe5b505050565b6000600160149054906101000a900460ff1615151561160d57600080fd5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561166957600080fd5b81600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054101515156116b757600080fd5b611700600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205483613ebf565b600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061178c600d60008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205483613edb565b600d60008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506001905092915050565b6000600160149054906101000a900460ff161515156117f757600080fd5b600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905090565b61186a336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b151561187557600080fd5b8173ffffffffffffffffffffffffffffffffffffffff1663a0712d68826040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b15156118e357600080fd5b6102c65a03f115156118f457600080fd5b5050505050565b6000600160149054906101000a900460ff1615151561191957600080fd5b600061192483612b44565b14156119335760009050611950565b61194d61193f83612ba9565b61194884612b44565b613ef7565b90505b919050565b600080600160149054906101000a900460ff1615151561197457600080fd5b6119a2336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b15156119ad57600080fd5b6119b73385613f33565b83111515156119c557600080fd5b8390508073ffffffffffffffffffffffffffffffffffffffff166323b872dd3330866000604051602001526040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050602060405180830381600087803b1515611aa757600080fd5b6102c65a03f11515611ab857600080fd5b5050506040518051905015611b5a5782600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555060019150611b5f565b600091505b5092915050565b600080600160149054906101000a900460ff16151515611b8557600080fd5b6000611b9084612b44565b1415611ba657611b9f83612ba9565b9150611c9a565b611c59600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16631029e85b6000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b1515611c3757600080fd5b6102c65a03f11515611c4857600080fd5b505050604051805190506064613ef7565b905080611c65846118fb565b1115611c9557611c8e611c7784612ba9565b611c89611c8386612b44565b84614034565b613ebf565b9150611c9a565b600091505b50919050565b6000600160149054906101000a900460ff16151515611cbe57600080fd5b600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515611d1a57600080fd5b82600d60008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205410151515611d6857600080fd5b611db1600d60008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205484613ebf565b600d60008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550611e3d600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205483613edb565b600a60003073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550600190509392505050565b6000600160149054906101000a900460ff16151515611ea957600080fd5b600082118015611ec15750611ebd33611b66565b8211155b1515611ecc57600080fd5b611f15600b60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205483613ebf565b600b60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055503373ffffffffffffffffffffffffffffffffffffffff166108fc839081150290604051600060405180830381858888f193505050501515611f9857600080fd5b60019050919050565b61206982828473ffffffffffffffffffffffffffffffffffffffff166370a08231856000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b151561204957600080fd5b6102c65a03f1151561205a57600080fd5b5050506040518051905061211e565b5050565b6000600160149054906101000a900460ff1615151561208b57600080fd5b6120d4600b60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205434613edb565b600b60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506001905090565b61214c336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b151561215757600080fd5b8273ffffffffffffffffffffffffffffffffffffffff166323b872dd8330846000604051602001526040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050602060405180830381600087803b151561223657600080fd5b6102c65a03f1151561224757600080fd5b50505060405180519050151561225957fe5b505050565b6000600160149054906101000a900460ff1615151561227c57600080fd5b600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156122d857600080fd5b612321600e60008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205483613ebf565b600e60008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506001905092915050565b600160149054906101000a900460ff1681565b600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6123d5336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b15156123e057600080fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f1abebea81bfa2637f28358c371278fb15ede7ea8dd28d2e03b112ff6d936ada460405160405180910390a250565b6000600160149054906101000a900460ff161515156124a557600080fd5b600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6000600160149054906101000a900460ff1615151561254757600080fd5b612575336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b151561258057600080fd5b81600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060019050919050565b6125f8336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b151561260357600080fd5b8073ffffffffffffffffffffffffffffffffffffffff166342966c688273ffffffffffffffffffffffffffffffffffffffff166370a08231306000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b15156126c257600080fd5b6102c65a03f115156126d357600080fd5b505050604051805190506040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b151561272e57600080fd5b6102c65a03f1151561273f57600080fd5b50505050565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600160149054906101000a900460ff1615151561278957600080fd5b612811600d60008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054600e60008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054613ebf565b9050919050565b6000600160149054906101000a900460ff1615151561283657600080fd5b600e60008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6000600160149054906101000a900460ff1615151561289b57600080fd5b600b60008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b612910336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b151561291b57600080fd5b8173ffffffffffffffffffffffffffffffffffffffff166342966c68826040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050600060405180830381600087803b151561298957600080fd5b6102c65a03f1151561299a57600080fd5b5050505050565b600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020548111151515612a2c57600080fd5b80600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254039250508190555080600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055505050565b6000600160149054906101000a900460ff16151515612b6257600080fd5b600d60008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6000600160149054906101000a900460ff16151515612bc757600080fd5b612db1612da3612bd68461287d565b612d9e600460009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16632d675684876000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b1515612c9e57600080fd5b6102c65a03f11515612caf57600080fd5b50505060405180519050600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16638f32a16c886000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b1515612d7e57600080fd5b6102c65a03f11515612d8f57600080fd5b50505060405180519050613edb565b613edb565b612dac84612818565b613ebf565b9050919050565b600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600160149054906101000a900460ff16151515612dfc57600080fd5b612ec7612eb9600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166329a260b86000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b1515612e9057600080fd5b6102c65a03f11515612ea157600080fd5b50505060405180519050612eb485612ba9565b614034565b612ec284612b44565b613ebf565b9050919050565b612f9682828473ffffffffffffffffffffffffffffffffffffffff166370a08231306000604051602001526040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001915050602060405180830381600087803b1515612f7657600080fd5b6102c65a03f11515612f8757600080fd5b505050604051805190506114e3565b5050565b612fc8336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b1515612fd357600080fd5b60008060043591506024359050806000191682600019163373ffffffffffffffffffffffffffffffffffffffff166000357fffffffff00000000000000000000000000000000000000000000000000000000167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19163460003660405180848152602001806020018281038252848482818152602001925080828437820191505094505050505060405180910390a46000600160146101000a81548160ff0219169083151502179055505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600080600160149054906101000a900460ff161515156130e157600080fd5b600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054831115151561316c57600080fd5b82600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055508390508073ffffffffffffffffffffffffffffffffffffffff166323b872dd3033866000604051602001526040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050602060405180830381600087803b15156132d857600080fd5b6102c65a03f115156132e957600080fd5b5050506040518051905050600191505092915050565b6000600160149054906101000a900460ff1615151561331d57600080fd5b600960003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b600080600160149054906101000a900460ff161515156133c057600080fd5b6133ee336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b15156133f957600080fd5b600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054831115151561348457600080fd5b61348e3385613f33565b831115151561349c57600080fd5b82600860003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254019250508190555082600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055508390508073ffffffffffffffffffffffffffffffffffffffff1663095ea7b3600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16856000604051602001526040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050602060405180830381600087803b151561368057600080fd5b6102c65a03f1151561369157600080fd5b5050506040518051905050600191505092915050565b6136d5336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b15156136e057600080fd5b8273ffffffffffffffffffffffffffffffffffffffff166340c10f1983836040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050600060405180830381600087803b151561378257600080fd5b6102c65a03f1151561379357600080fd5b505050505050565b6000600160149054906101000a900460ff161515156137b957600080fd5b6137e7336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b15156137f257600080fd5b81600460006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060019050919050565b6000600160149054906101000a900460ff1615151561385a57600080fd5b613888336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b151561389357600080fd5b34600760003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055506001905090565b6000600160149054906101000a900460ff1615151561396457600080fd5b613a17600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16632262697e6000604051602001526040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b15156139f557600080fd5b6102c65a03f11515613a0657600080fd5b505050604051805190506064613ef7565b613a20836118fb565b119050919050565b6000600160149054906101000a900460ff16151515613a4657600080fd5b613a74336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b1515613a7f57600080fd5b81600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060019050919050565b6000600160149054906101000a900460ff16151515613ae757600080fd5b600860008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b613b9a336000357fffffffff0000000000000000000000000000000000000000000000000000000016613c60565b1515613ba557600080fd5b8273ffffffffffffffffffffffffffffffffffffffff16639dc29fac83836040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182815260200192505050600060405180830381600087803b1515613c4757600080fd5b6102c65a03f11515613c5857600080fd5b505050505050565b60003073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415613c9f5760019050613eb9565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415613cfe5760019050613eb9565b600073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161415613d5d5760009050613eb9565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663b70096138430856000604051602001526040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191681526020019350505050602060405180830381600087803b1515613e9b57600080fd5b6102c65a03f11515613eac57600080fd5b5050506040518051905090505b92915050565b60008282840391508111151515613ed557600080fd5b92915050565b60008282840191508110151515613ef157600080fd5b92915050565b600081613f21613f0f85670de0b6b3a7640000614078565b600285811515613f1b57fe5b04613edb565b811515613f2a57fe5b04905092915050565b6000808290508073ffffffffffffffffffffffffffffffffffffffff1663dd62ed3e85306000604051602001526040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200192505050602060405180830381600087803b151561401057600080fd5b6102c65a03f1151561402157600080fd5b5050506040518051905091505092915050565b6000670de0b6b3a764000061406661404c8585614078565b6002670de0b6b3a764000081151561406057fe5b04613edb565b81151561406f57fe5b04905092915050565b6000808214806140975750828283850292508281151561409457fe5b04145b15156140a257600080fd5b929150505600a165627a7a72305820897a5abcd7a9377a49a8f82b07e7e26d0284c4c361be6e579e0628b86e53b9170029')
    }
    return this.WALLET_BYTECODE
  }

  public getExchangeAddress(): string {
    return this.EXCHANGE_ADDRESS
  }

  public getTokenTransferProxyAddress(): string {
    return '0xb4c79daB8f259C7Aee6E5b2Aa729821864227e84'
  }

  // Temporary function to update Wallet.sol address on the fly
  // TODO: Deprecate
  public _walletAddress(walletAddress: string): void {
    this.WALLET_ADDRESS = walletAddress
  }
}

const ERC20ABI = [{
  constant: true,
  inputs: [],
  name: 'name',
  outputs: [{ name: '', type: 'string' }],
  payable: false,
  stateMutability: 'view',
  type: 'function'
}, {
  constant: false,
  inputs: [{ name: 'guy', type: 'address' }, { name: 'wad', type: 'uint256' }],
  name: 'approve',
  outputs: [{ name: '', type: 'bool' }],
  payable: false,
  stateMutability: 'nonpayable',
  type: 'function'
}, {
  constant: true,
  inputs: [],
  name: 'totalSupply',
  outputs: [{ name: '', type: 'uint256' }],
  payable: false,
  stateMutability: 'view',
  type: 'function'
}, {
  constant: false,
  inputs: [{ name: 'src', type: 'address' }, { name: 'dst', type: 'address' }, { name: 'wad', type: 'uint256' }],
  name: 'transferFrom',
  outputs: [{ name: '', type: 'bool' }],
  payable: false,
  stateMutability: 'nonpayable',
  type: 'function'
}, {
  constant: false,
  inputs: [{ name: 'wad', type: 'uint256' }],
  name: 'withdraw',
  outputs: [],
  payable: false,
  stateMutability: 'nonpayable',
  type: 'function'
}, {
  constant: true,
  inputs: [],
  name: 'decimals',
  outputs: [{ name: '', type: 'uint8' }],
  payable: false,
  stateMutability: 'view',
  type: 'function'
}, {
  constant: true,
  inputs: [{ name: '', type: 'address' }],
  name: 'balanceOf',
  outputs: [{ name: '', type: 'uint256' }],
  payable: false,
  stateMutability: 'view',
  type: 'function'
}, {
  constant: true,
  inputs: [],
  name: 'symbol',
  outputs: [{ name: '', type: 'string' }],
  payable: false,
  stateMutability: 'view',
  type: 'function'
}, {
  constant: false,
  inputs: [{ name: 'dst', type: 'address' }, { name: 'wad', type: 'uint256' }],
  name: 'transfer',
  outputs: [{ name: '', type: 'bool' }],
  payable: false,
  stateMutability: 'nonpayable',
  type: 'function'
}, { constant: false, inputs: [], name: 'deposit', outputs: [], payable: true, stateMutability: 'payable', type: 'function' }, {
  constant: true,
  inputs: [{ name: '', type: 'address' }, { name: '', type: 'address' }],
  name: 'allowance',
  outputs: [{ name: '', type: 'uint256' }],
  payable: false,
  stateMutability: 'view',
  type: 'function'
}, { payable: true, stateMutability: 'payable', type: 'fallback' }, {
  anonymous: false,
  inputs: [{ indexed: true, name: 'src', type: 'address' }, { indexed: true, name: 'guy', type: 'address' }, {
    indexed: false,
    name: 'wad',
    type: 'uint256'
  }],
  name: 'Approval',
  type: 'event'
}, {
  anonymous: false,
  inputs: [{ indexed: true, name: 'src', type: 'address' }, { indexed: true, name: 'dst', type: 'address' }, {
    indexed: false,
    name: 'wad',
    type: 'uint256'
  }],
  name: 'Transfer',
  type: 'event'
}, {
  anonymous: false,
  inputs: [{ indexed: true, name: 'dst', type: 'address' }, { indexed: false, name: 'wad', type: 'uint256' }],
  name: 'Deposit',
  type: 'event'
}, {
  anonymous: false,
  inputs: [{ indexed: true, name: 'src', type: 'address' }, { indexed: false, name: 'wad', type: 'uint256' }],
  name: 'Withdrawal',
  type: 'event'
}]

const walletABI = [
  {
    constant: true,
    inputs: [
      {
        name: '',
        type: 'address'
      },
      {
        name: '',
        type: 'address'
      }
    ],
    name: 'withdrawableBalance',
    outputs: [
      {
        name: '',
        type: 'uint256'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [],
    name: 'TOKEN_TRANSFER_PROXY_CONTRACT',
    outputs: [
      {
        name: '',
        type: 'address'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [],
    name: 'stopped',
    outputs: [
      {
        name: '',
        type: 'bool'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [],
    name: 'WETH_CONTRACT',
    outputs: [
      {
        name: '',
        type: 'address'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [],
    name: 'ZEROEX_EXCHANGE_CONTRACT',
    outputs: [
      {
        name: '',
        type: 'address'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [],
    name: 'authority',
    outputs: [
      {
        name: '',
        type: 'address'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [
      {
        name: '',
        type: 'address'
      },
      {
        name: '',
        type: 'address'
      }
    ],
    name: 'cashBalance',
    outputs: [
      {
        name: '',
        type: 'uint256'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [
      {
        name: '',
        type: 'address'
      },
      {
        name: '',
        type: 'address'
      }
    ],
    name: 'collateralBalance',
    outputs: [
      {
        name: '',
        type: 'uint256'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [
      {
        name: '',
        type: 'address'
      },
      {
        name: '',
        type: 'address'
      }
    ],
    name: 'lockedBalance',
    outputs: [
      {
        name: '',
        type: 'uint256'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [],
    name: 'owner',
    outputs: [
      {
        name: '',
        type: 'address'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [
      {
        name: '_userAddress',
        type: 'address'
      },
      {
        name: '_tokenAddress',
        type: 'address'
      }
    ],
    name: 'getMaximumBorrowableAmountPerToken',
    outputs: [
      {
        name: '',
        type: 'uint256'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: 'token',
        type: 'address'
      },
      {
        name: 'guy',
        type: 'address'
      },
      {
        name: 'wad',
        type: 'uint256'
      }
    ],
    name: 'burn',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    inputs: [
      {
        name: '_tokenTransferProxy',
        type: 'address'
      },
      {
        name: '_weth',
        type: 'address'
      },
      {
        name: '_zeroXExchange',
        type: 'address'
      }
    ],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'constructor'
  },
  {
    constant: false,
    inputs: [
      {
        name: 'token',
        type: 'address'
      }
    ],
    name: 'burn',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: 'token',
        type: 'address'
      },
      {
        name: 'dst',
        type: 'address'
      }
    ],
    name: 'push',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: 'owner_',
        type: 'address'
      }
    ],
    name: 'setOwner',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: 'token',
        type: 'address'
      },
      {
        name: 'src',
        type: 'address'
      },
      {
        name: 'wad',
        type: 'uint256'
      }
    ],
    name: 'pull',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [],
    name: 'start',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: '_orderAddresses',
        type: 'address[5]'
      },
      {
        name: '_orderValues',
        type: 'uint256[6]'
      },
      {
        name: '_offerAddresses',
        type: 'address[4]'
      },
      {
        name: '_offerValues',
        type: 'uint256[2]'
      },
      {
        name: '_orderV',
        type: 'uint256'
      },
      {
        name: '_orderRS',
        type: 'bytes32[2]'
      },
      {
        name: '_loanBytes',
        type: 'bytes32[3]'
      },
      {
        name: '_fillTakerTokenAmount',
        type: 'uint256'
      },
      {
        name: '_wranglerAddress',
        type: 'address'
      }
    ],
    name: 'openPosition',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [],
    name: 'stop',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: 'token',
        type: 'address'
      },
      {
        name: 'wad',
        type: 'uint256'
      }
    ],
    name: 'mint',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: '_tokenAddress',
        type: 'address'
      },
      {
        name: '_amount',
        type: 'uint256'
      }
    ],
    name: 'unCommitFunds',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: '_tokenAddress',
        type: 'address'
      },
      {
        name: '_amount',
        type: 'uint256'
      }
    ],
    name: 'withdrawFunds',
    outputs: [
      {
        name: '',
        type: 'bool'
      }
    ],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        name: 'sender',
        type: 'address'
      },
      {
        indexed: false,
        name: 'token',
        type: 'address'
      },
      {
        indexed: false,
        name: 'amount',
        type: 'uint256'
      },
      {
        indexed: false,
        name: 'storedAmount',
        type: 'uint256'
      }
    ],
    name: 'LogWithdraw',
    type: 'event'
  },
  {
    constant: false,
    inputs: [
      {
        name: '_tokenAddress',
        type: 'address'
      },
      {
        name: '_amount',
        type: 'uint256'
      }
    ],
    name: 'commitFunds',
    outputs: [
      {
        name: '',
        type: 'bool'
      }
    ],
    payable: true,
    stateMutability: 'payable',
    type: 'function'
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: true,
        name: 'owner',
        type: 'address'
      }
    ],
    name: 'LogSetOwner',
    type: 'event'
  },
  {
    constant: false,
    inputs: [
      {
        name: '_address',
        type: 'address'
      }
    ],
    name: 'setLendroidPositionManager',
    outputs: [
      {
        name: '',
        type: 'bool'
      }
    ],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: true,
        name: 'authority',
        type: 'address'
      }
    ],
    name: 'LogSetAuthority',
    type: 'event'
  },
  {
    constant: false,
    inputs: [
      {
        name: 'token',
        type: 'address'
      },
      {
        name: 'src',
        type: 'address'
      }
    ],
    name: 'pull',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: 'token',
        type: 'address'
      },
      {
        name: 'guy',
        type: 'address'
      },
      {
        name: 'wad',
        type: 'uint256'
      }
    ],
    name: 'mint',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    payable: false,
    stateMutability: 'nonpayable',
    type: 'fallback'
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        name: 'sender',
        type: 'address'
      },
      {
        indexed: false,
        name: 'token',
        type: 'address'
      },
      {
        indexed: false,
        name: 'amount',
        type: 'uint256'
      },
      {
        indexed: false,
        name: 'storedAmount',
        type: 'uint256'
      }
    ],
    name: 'LogCommit',
    type: 'event'
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        name: 'sender',
        type: 'address'
      },
      {
        indexed: false,
        name: 'token',
        type: 'address'
      },
      {
        indexed: false,
        name: 'amount',
        type: 'uint256'
      },
      {
        indexed: false,
        name: 'storedAmount',
        type: 'uint256'
      }
    ],
    name: 'LogDeposit',
    type: 'event'
  },
  {
    anonymous: true,
    inputs: [
      {
        indexed: true,
        name: 'sig',
        type: 'bytes4'
      },
      {
        indexed: true,
        name: 'guy',
        type: 'address'
      },
      {
        indexed: true,
        name: 'foo',
        type: 'bytes32'
      },
      {
        indexed: true,
        name: 'bar',
        type: 'bytes32'
      },
      {
        indexed: false,
        name: 'wad',
        type: 'uint256'
      },
      {
        indexed: false,
        name: 'fax',
        type: 'bytes'
      }
    ],
    name: 'LogNote',
    type: 'event'
  },
  {
    constant: false,
    inputs: [
      {
        name: 'authority_',
        type: 'address'
      }
    ],
    name: 'setAuthority',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: 'token',
        type: 'address'
      },
      {
        name: 'dst',
        type: 'address'
      },
      {
        name: 'wad',
        type: 'uint256'
      }
    ],
    name: 'push',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: 'token',
        type: 'address'
      },
      {
        name: 'wad',
        type: 'uint256'
      }
    ],
    name: 'burn',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: '_address',
        type: 'address'
      }
    ],
    name: 'setLendroidNetworkParameters',
    outputs: [
      {
        name: '',
        type: 'bool'
      }
    ],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: '_tokenAddress',
        type: 'address'
      },
      {
        name: '_amount',
        type: 'uint256'
      }
    ],
    name: 'depositFunds',
    outputs: [
      {
        name: '',
        type: 'bool'
      }
    ],
    payable: true,
    stateMutability: 'payable',
    type: 'function'
  }
]

const positionManagerABI = [
  {
    constant: false,
    inputs: [
      {
        name: '_market',
        type: 'bytes32'
      },
      {
        name: '_expiration',
        type: 'bytes32'
      },
      {
        name: '_loanHash',
        type: 'bytes32'
      },
      {
        name: '_lender',
        type: 'address'
      },
      {
        name: '_trader',
        type: 'address'
      },
      {
        name: '_wrangler',
        type: 'address'
      }
    ],
    name: 'createForwardContract',
    outputs: [
      {
        name: '',
        type: 'bool'
      }
    ],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: '_address',
        type: 'address'
      }
    ],
    name: 'setLendroidOracle',
    outputs: [
      {
        name: '',
        type: 'bool'
      }
    ],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [],
    name: 'stop',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: 'owner_',
        type: 'address'
      }
    ],
    name: 'setOwner',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: true,
    inputs: [],
    name: 'LendroidWallet',
    outputs: [
      {
        name: '',
        type: 'address'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [
      {
        name: '_trader',
        type: 'address'
      }
    ],
    name: 'unRealizedPLs',
    outputs: [
      {
        name: '',
        type: 'uint256'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [
      {
        name: '',
        type: 'bytes32'
      }
    ],
    name: 'positions',
    outputs: [
      {
        name: 'timestamp',
        type: 'uint256'
      },
      {
        name: 'trader',
        type: 'address'
      },
      {
        name: 'tokenSymbol',
        type: 'bytes32'
      },
      {
        name: 'tokenAmount',
        type: 'uint256'
      },
      {
        name: 'openingRate',
        type: 'uint256'
      },
      {
        name: 'positionAmount',
        type: 'uint256'
      },
      {
        name: 'positionHash',
        type: 'bytes32'
      },
      {
        name: 'positionId',
        type: 'uint256'
      },
      {
        name: 'status',
        type: 'uint8'
      },
      {
        name: 'lastUpdated',
        type: 'uint256'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [],
    name: 'LendroidNetworkParameters',
    outputs: [
      {
        name: '',
        type: 'address'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [],
    name: 'zeroXExchange',
    outputs: [
      {
        name: '',
        type: 'address'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [
      {
        name: '_positionHash',
        type: 'bytes32'
      }
    ],
    name: 'unRealizedPL',
    outputs: [
      {
        name: '',
        type: 'uint256'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [],
    name: 'stopped',
    outputs: [
      {
        name: '',
        type: 'bool'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [],
    name: 'LendroidOracle',
    outputs: [
      {
        name: '',
        type: 'address'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: 'authority_',
        type: 'address'
      }
    ],
    name: 'setAuthority',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: '_address',
        type: 'address'
      }
    ],
    name: 'setLendroidNetworkParameters',
    outputs: [
      {
        name: '',
        type: 'bool'
      }
    ],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: true,
    inputs: [],
    name: 'owner',
    outputs: [
      {
        name: '',
        type: 'address'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: true,
    inputs: [
      {
        name: '_trader',
        type: 'address'
      }
    ],
    name: 'positionsOpened',
    outputs: [
      {
        name: '',
        type: 'bytes32[]'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: false,
    inputs: [],
    name: 'start',
    outputs: [],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    constant: true,
    inputs: [],
    name: 'authority',
    outputs: [
      {
        name: '',
        type: 'address'
      }
    ],
    payable: false,
    stateMutability: 'view',
    type: 'function'
  },
  {
    constant: false,
    inputs: [
      {
        name: '_address',
        type: 'address'
      }
    ],
    name: 'setLendroidWallet',
    outputs: [
      {
        name: '',
        type: 'bool'
      }
    ],
    payable: false,
    stateMutability: 'nonpayable',
    type: 'function'
  },
  {
    payable: false,
    stateMutability: 'nonpayable',
    type: 'fallback'
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: false,
        name: '_positionHash',
        type: 'bytes32'
      },
      {
        indexed: false,
        name: '_address',
        type: 'address'
      },
      {
        indexed: false,
        name: '_action',
        type: 'bytes32'
      }
    ],
    name: 'LogPositionUpdated',
    type: 'event'
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: true,
        name: 'authority',
        type: 'address'
      }
    ],
    name: 'LogSetAuthority',
    type: 'event'
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: true,
        name: 'owner',
        type: 'address'
      }
    ],
    name: 'LogSetOwner',
    type: 'event'
  },
  {
    anonymous: true,
    inputs: [
      {
        indexed: true,
        name: 'sig',
        type: 'bytes4'
      },
      {
        indexed: true,
        name: 'guy',
        type: 'address'
      },
      {
        indexed: true,
        name: 'foo',
        type: 'bytes32'
      },
      {
        indexed: true,
        name: 'bar',
        type: 'bytes32'
      },
      {
        indexed: false,
        name: 'wad',
        type: 'uint256'
      },
      {
        indexed: false,
        name: 'fax',
        type: 'bytes'
      }
    ],
    name: 'LogNote',
    type: 'event'
  }
]
